(()=>{function c(o,t=window.PineconeRouter.settings.viewSelector??"#app"){var r=new DOMParser,n=r.parseFromString(o,"text/html"),e="app-scripts";document.querySelectorAll("."+e).forEach(i=>i.remove());var a=n.querySelectorAll("script");a.forEach(i=>{i.remove();var d=document.createElement("script");d.className="app-scripts",d.textContent=i.innerText,document.body.appendChild(d)}),document.querySelector(t).replaceChildren(...Array.prototype.slice.call(n.body.childNodes,0)),document.querySelector("[autofocus]")?.focus()}var w={version:"2.0.1",name:"views",onAfterRouteProcessed(o,t){if(!o.hasAttribute("x-view"))return;let r=o.getAttribute("x-view");if(t=="notfound"){window.PineconeRouter.notfound.view=r;return}let n=window.PineconeRouter.routes.findIndex(e=>e.path==t);window.PineconeRouter.routes[n].view=r},onBeforeHandlersExecuted(o,t,r){window.dispatchEvent(window.PineconeRouter.loadStart)},onHandlersExecuted(o,t,r){let n=o?o.view?o.view:"":window.PineconeRouter.notfound.view;if(!n){window.dispatchEvent(window.PineconeRouter.loadEnd);return}window.PineconeRouter.viewCache[n]&&(c(window.PineconeRouter.viewCache[n]),window.dispatchEvent(window.PineconeRouter.loadEnd)),fetch(n).then(e=>e.text()).then(e=>(c(e),window.PineconeRouter.viewCache[n]=e,window.dispatchEvent(window.PineconeRouter.loadEnd),!1)).catch(e=>{document.querySelector(window.PineconeRouter.settings.viewSelector??"#app").dispatchEvent(new CustomEvent("fetch-error",{detail:e})),console.error(`Pinecone Router: Fetch Error: ${e}`)})}};window.PineconeRouterMiddlewares==null?window.PineconeRouterMiddlewares=[w]:window.PineconeRouterMiddlewares.push(w);})();
//# sourceMappingURL=views.min.js.map
