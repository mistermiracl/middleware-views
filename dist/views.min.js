(()=>{var d="app-scripts";function r(o,i=window.PineconeRouter.settings.viewSelector??"#app"){var t=document.createElement("div");t.innerHTML=o,document.querySelectorAll("."+d).forEach(n=>n.remove()),t.querySelectorAll("script").forEach(n=>{n.remove();var e=document.createElement("script");e.className=d,e.textContent=n.textContent,document.body.appendChild(e)}),document.querySelector(i).replaceChildren(...Array.from(t.childNodes)),document.querySelector("[autofocus]")?.focus()}var c={version:"2.0.1",name:"views",onAfterRouteProcessed(o,i){if(!o.hasAttribute("x-view"))return;let t=o.getAttribute("x-view");if(i=="notfound"){window.PineconeRouter.notfound.view=t;return}let n=window.PineconeRouter.routes.findIndex(e=>e.path==i);window.PineconeRouter.routes[n].view=t},onBeforeHandlersExecuted(o,i,t){window.dispatchEvent(window.PineconeRouter.loadStart)},onHandlersExecuted(o,i,t){let n=o?o.view?o.view:"":window.PineconeRouter.notfound.view;if(!n){window.dispatchEvent(window.PineconeRouter.loadEnd);return}window.PineconeRouter.viewCache[n]&&(r(window.PineconeRouter.viewCache[n]),window.dispatchEvent(window.PineconeRouter.loadEnd)),fetch(n).then(e=>e.text()).then(e=>(r(e),window.PineconeRouter.viewCache[n]=e,window.dispatchEvent(window.PineconeRouter.loadEnd),!1)).catch(e=>{document.querySelector(window.PineconeRouter.settings.viewSelector??"#app").dispatchEvent(new CustomEvent("fetch-error",{detail:e})),console.error(`Pinecone Router: Fetch Error: ${e}`)})}};window.PineconeRouterMiddlewares==null?window.PineconeRouterMiddlewares=[c]:window.PineconeRouterMiddlewares.push(c);})();
//# sourceMappingURL=views.min.js.map
